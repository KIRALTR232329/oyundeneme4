let Questions = [
    {
        soru: "HÃ¼cre zarÄ±nÄ±n temel iÅŸlevi nedir?",
        cevaplar: ["HÃ¼creyi desteklemek", "HÃ¼cre iÃ§ine giren ve Ã§Ä±kan maddeleri kontrol etmek", "HÃ¼crenin hareket teÅŸvikini saÄŸlamak", "Protein sentezlemek"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangileri bir sÃ¼rÃ¼ngen deÄŸildir?",
        cevaplar: ["YÄ±lan", "Timsah", "KurbaÄŸa", "Kertenkele"],
        doÄŸru: "C"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangileri tek hÃ¼creliddir?",
        cevaplar: ["Solucan", "Amip", "Sinek", "Karayosunu"],
        doÄŸru: "B"
    },
    {
        soru: "Bir hÃ¼crede hangisinin olmasÄ± onun bitki hÃ¼cresi olduÄŸunu gÃ¶sterir?",
        cevaplar: ["HÃ¼cre Ã§eperi", "Loroplast", "NiÅŸasta", "Sentrozom"],
        doÄŸru: "C"
    },
    {
        soru: "BÃ¶ceklerin kaÃ§ bacaÄŸÄ± vardÄ±r?",
        cevaplar: ["4", "6", "8", "40"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangisi fotosentez yapmaz?",
        cevaplar: ["Alg", "Ã‡am aÄŸacÄ±", "ÅžapkalÄ± mantar", "GÃ¼l bitkisi"], 
        doÄŸru: "C"
    },
    {
        soru: "Hangisi omurgalÄ± bir canlÄ±dÄ±r?",
        cevaplar: ["Deniz anasÄ±", "Midye", "KaplumbaÄŸa", "YengeÃ§"],
        doÄŸru: "C"
    },
    {
        soru: "GÃ¶zÃ¼n gÃ¶rme ile ilgili kÄ±smÄ± hangisidir?",
        cevaplar: ["Kornea", "Retina", "Tulumcuk", "Kesecik"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±daki canlÄ±lardan hangisinde kemikten bir iskelet yoktur?",
        cevaplar: ["KÃ¶pek balÄ±ÄŸÄ±", "Hamsi", "SerÃ§e", "Balina"],
        doÄŸru: "A"
    },
    {
        soru: "Hangisi kalbe kirli kan getiren damardÄ±r?",
        cevaplar: ["Ãœst ana toplar damar", "Aort", "AkciÄŸer toplar damarÄ±", "AkciÄŸer atar damarÄ±"],
        doÄŸru: "A"
    },
    {
        soru: "KanÄ±n sÄ±vÄ± kÄ±smÄ±na ne isim verilir?",
        cevaplar: ["Alyuvar", "Plazma", "Akyuvar", "Trombosit"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangisi memeliler sÄ±nÄ±fÄ±ndan bir canlÄ± deÄŸildir?",
        cevaplar: ["Yunus", "Balina", "Yarasa", "Penguen"],
        doÄŸru: "D"
    },
    {
        soru: "Hangisi sadece hayvan hÃ¼cre zarÄ±nda bulunan zara dayanÄ±klÄ±lÄ±k veren lipittir?",
        cevaplar: ["Kolesterol", "Glikoz", "Aminoasit", "Enzim"],
        doÄŸru: "A"
    },
    {
        soru: "DNA'nÄ±n ikili sarmal yapÄ±sÄ±nÄ±n aÃ§Ä±klayan bilim insanlarÄ± hangileridir?",
        cevaplar: ["Ian Wilmut", "Watson ve Crick", "Robert Hooke ve Avery", "Charles Darwin ve Lamark"],
        doÄŸru: "B"
    },
    {
        soru: "Bir DNA sarmalÄ±nda 2000 Adenin nÃ¼kleotidi varsa kaÃ§ Timin nÃ¼kleotidi bulunur?",
        cevaplar: ["1000", "3000", "2000", "4000"],
        doÄŸru: "C"
    },
    {
        soru: "Mikroorganizmalara karÅŸÄ± koruyucu olarak Ã¼retilen proteinlere ne denir?",
        cevaplar: ["BaÄŸÄ±ÅŸÄ±klÄ±k", "Antijen", "Antikor", "Lenfosit"],
        doÄŸru: "C"
    },
    {
        soru: "Bir hayvansal hÃ¼crede yaÄŸlarÄ±n sindiriminin yapÄ±ldÄ±ÄŸÄ± organel hangisidir?",
        cevaplar: ["Lizozom", "Ribozom", "Golgi", "Endoplazmik retikulum"],
        doÄŸru: "A"
    },
    {
        soru: "2N=46 kromozonlu bir insanÄ±n karaciÄŸer hÃ¼cresindeki kromozon sayÄ±sÄ± kaÃ§tÄ±r?",
        cevaplar: ["23", "46", "92", "184"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±daki enzimlerden hangisi incebaÄŸÄ±rsaktan salgÄ±lanmaz?",
        cevaplar: ["Enteropeptidaz", "Lipaz", "Maltaz", "Dekstrinaz"],
        doÄŸru: "B"
    },
    {
        soru: "Belirli bir bÃ¶lgede yaÅŸayan tek bir tÃ¼re ait canlÄ± topluluÄŸu anlamÄ±na gelen kelime hangisidir?",
        cevaplar: ["KomÃ¼nite", "Habitat", "NiÅŸ", "PopÃ¼lasyon"],
        doÄŸru: "D"
    },

    {
        soru: "Fotosentez iÅŸlemi sÄ±rasÄ±nda hangi gaz ortamÄ±nda salÄ±nÄ±r?",
        cevaplar: ["Karbon dioksit", "Azot", "Oksijen", "Hidrojen"],
        doÄŸru: "C"
    },
    {
        soru: "DNA'nÄ±n ana iÅŸlevi nedir?",
        cevaplar: ["HÃ¼cre bÃ¶lÃ¼nmesini saÄŸlamak", "Genetik bilgiyi depolamak", "Protein Ã¼retimi", "Savunma"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangisinin mitoz bÃ¶lÃ¼nmesi sonucu oluÅŸur?",
        cevaplar: ["Gamet hÃ¼creleri", "KÃ¶k hÃ¼creleri", "VÃ¼cut hÃ¼creleri", "Sperm ve yumurta hÃ¼creleri"],
        doÄŸru: "C"
    },
    {
        soru: "Hangi organ sistemi vÃ¼cutta oksijen taÅŸÄ±nmasÄ±nÄ± saÄŸlar?",
        cevaplar: ["Sindirim sistemi", "DolaÅŸÄ±m sistemi", "Solunum sistemi", "BoÅŸaltÄ±m sistemi"],
        doÄŸru: "C"
    },
    {
        soru: "AÅŸaÄŸÄ±dakilerden hangisi bir bakteri tarafÄ±ndan yapÄ±lamaz?",
        cevaplar: ["YoÄŸurdun mayalanmasÄ±", "Hamurun mayalanmasÄ±", "Kemosentezle besin Ã¼retilmesi", "Fotosentezle besin Ã¼retilmesi"],
        doÄŸru: "B"
    },
    {
        soru: "Midenin etrafÄ±nÄ± hangisi Ã¶rter?",
        cevaplar: ["Periton", "Plevra", "Pseudepod", "Perikard"],
        doÄŸru: "A"
    },
    {
        soru: "Bir insanda bacaÄŸÄ±n diz altÄ±nda, arka kÄ±smÄ±nda bulunan kemiÄŸin adÄ± nedir?",
        cevaplar: ["BaldÄ±r", "PazÄ±", "KÃ¶prÃ¼cÃ¼k", "TÄ±rnakÃ§Ä±k"],
        doÄŸru: "A"
    },
    {
        soru: "Bir insan vÃ¼cudunda amonyaÄŸÄ±n Ã¼reye Ã§evrildiÄŸi organ hangisidir?",
        cevaplar: ["Kalp", "BaÄŸÄ±rsak", "BÃ¶brek", "KaraciÄŸer"],
        doÄŸru: "D"
    },
    {
        soru: "Fotosentezde hangisi Ã¼retilemez?",
        cevaplar: ["Karbondioksit", "Glikoz", "Oksijen", "Vitamin"],
        doÄŸru: "A"
    },
    {
        soru: "Enzimlerin Ã¼retildiÄŸi organel hangisidir?",
        cevaplar: ["Golgi", "Ribozom", "Lizozom", "Koful"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±daki canlÄ±lardan hangisi konjugasyon yapar ve bu sÄ±rada canlÄ± sayÄ±sÄ± artar?",
        cevaplar: ["Bakteri", "Paramecium", "Amip", "SÄ±ÄŸÄ±rcÄ±k kuÅŸu"],
        doÄŸru: "B"
    },
    {
        soru: "AÅŸaÄŸÄ±daki canlÄ±lardan hangisinin vÃ¼cudu tÃ¼ylerle Ã¶rtÃ¼lÃ¼dÃ¼r?",
        cevaplar: ["Kuzu", "GÃ¼vercin", "Maymun", "KÃ¶pek"],
        doÄŸru: "B"
    },
    {
        soru: "Fosil bilimine ne denir?",
        cevaplar: ["Paleontoloji", "Fizyoloji", "Zooloji", "Taksonomi"],
        doÄŸru: "A"
    }
];

let currentQuestionIndex = -1;
let countdown;
let timeLeft = 30;
let isExtended = false;
let playerScore = 0;
let startTime;
let endTime;
let selectedQuestions = [];
let isSoundEnabled = true;

// Ses dosyalarÄ±nÄ± tanÄ±mla
var dogruCevapSesi = new Audio('sounds/dogruCevapSesi.mp3');
var girisSesi = new Audio('sounds/girisSesi.mp3');
var sonSorudakiDogruCevapSesi = new Audio('sounds/sonSorudakiDogruCevapSesi.mp3');
var soruBaslangicSesi = new Audio('sounds/soruBaslangicSesi.mp3');
var yanlisCevapSesi = new Audio('sounds/yanlisCevapSesi.mp3');

// Ses dosyalarÄ±nÄ± optimize et
[dogruCevapSesi, girisSesi, sonSorudakiDogruCevapSesi, soruBaslangicSesi, yanlisCevapSesi].forEach(audio => {
    audio.volume = 0.7;
    audio.preload = 'auto';
});

// Ses kontrol butonu
document.addEventListener('DOMContentLoaded', function() {
    const muteButton = document.getElementById('mute-button');
    if (muteButton) {
        muteButton.addEventListener('click', toggleSound);
    }
});

function toggleSound() {
    isSoundEnabled = !isSoundEnabled;
    const muteButton = document.getElementById('mute-button');
    muteButton.textContent = isSoundEnabled ? 'ðŸ”Š' : 'ðŸ”‡';
    
    if (!isSoundEnabled) {
        [dogruCevapSesi, girisSesi, sonSorudakiDogruCevapSesi, soruBaslangicSesi, yanlisCevapSesi].forEach(audio => {
            audio.pause();
            audio.currentTime = 0;
        });
    }
}

// Ses dosyalarÄ±nÄ± tanÄ±mla
var dogruCevapSesi = new Audio('sounds/dogruCevapSesi.mp3');
var girisSesi = new Audio('sounds/girisSesi.mp3');
var sonSorudakiDogruCevapSesi = new Audio('sounds/sonSorudakiDogruCevapSesi.mp3');
var soruBaslangicSesi = new Audio('sounds/soruBaslangicSesi.mp3');
var yanlisCevapSesi = new Audio('sounds/yanlisCevapSesi.mp3');

// Ses dosyalarÄ±nÄ± optimize et
[dogruCevapSesi, girisSesi, sonSorudakiDogruCevapSesi, soruBaslangicSesi, yanlisCevapSesi].forEach(audio => {
    audio.volume = 0.7; // Ses seviyesini ayarla
    audio.preload = 'auto'; // Ses dosyalarÄ±nÄ± Ã¶nceden yÃ¼kle
});

document.getElementById('start-game').addEventListener('click', startGame);
document.getElementById('restart-game').addEventListener('click', startGame);
function startGame() {
    currentQuestionIndex = -1;
    playerScore = 0;
    selectedQuestions = getRandomQuestions(Questions, 10);
    document.getElementById('player-score').textContent = '0';
    document.getElementById('result-container').style.display = 'none';
    document.getElementById('info-column').style.display = 'block';
    document.getElementById('score-board').style.display = 'none'; // Skor tablosunu gizle
    
    // Oyun baÅŸlangÄ±Ã§ sesini Ã§al
    playGirisSesi();
    
    showNextQuestion();
    hideElement(document.getElementById('score-board'));
    resetTime();
}

function showNextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex >= Questions.length) {
        showResult(true, playerScore);
        return;
    }
    const question = Questions[currentQuestionIndex];
    const mainMenu = document.getElementById('mainMenu');
    mainMenu.innerHTML = `<h2>${question.soru}</h2>`;
    question.cevaplar.forEach((answer, i) => {
        const button = document.createElement('button');
        button.textContent = String.fromCharCode(65 + i) + ") " + answer;
        button.className = 'answerButton';
        button.onclick = () => checkAnswer(i, question.doÄŸru);
        mainMenu.appendChild(button);
    });
    const feedback = document.createElement('div');
    feedback.id = 'feedback';
    mainMenu.appendChild(feedback);
    const nextQuestionButton = document.createElement('button');
    nextQuestionButton.id = 'next-question';
    nextQuestionButton.className = 'menuButton';
    nextQuestionButton.textContent = 'Sonraki Soru';
    nextQuestionButton.style.display = 'none';
    nextQuestionButton.onclick = () => showNextQuestion();
    mainMenu.appendChild(nextQuestionButton);
    resetTime();
}

function checkAnswer(selected, correct) {
    clearInterval(countdown);
    const answerButtons = document.querySelectorAll('.answerButton');
    answerButtons.forEach((button, index) => {
        button.disabled = true; // TÃ¼m butonlarÄ± devre dÄ±ÅŸÄ± bÄ±rak
        const isCorrect = String.fromCharCode(65 + index) === correct;
        
        if (isCorrect) {
            button.classList.add('correct'); // DoÄŸru cevabÄ± yeÅŸil yap
        }
        
        if (index === selected && !isCorrect) {
            button.classList.add('wrong'); // YanlÄ±ÅŸ seÃ§ilen cevabÄ± kÄ±rmÄ±zÄ± yap
        }
    });

    const feedback = document.getElementById('feedback');
    if (String.fromCharCode(65 + selected) === correct) {
        feedback.textContent = "DoÄŸru!";
        feedback.style.color = "green";
        feedback.style.fontSize = "24px";
        feedback.style.fontWeight = "bold";
        
        // Son soru mu kontrol et
        if (currentQuestionIndex === selectedQuestions.length - 1) {
            playSonSorudakiDogruCevapSesi();
        } else {
            playDogruCevapSesi();
        }
        
        playerScore += 10;
        document.getElementById('player-score').textContent = playerScore;
        
        // Animasyon efekti ekle
        setTimeout(() => {
            document.getElementById('next-question').style.display = 'block';
            document.getElementById('next-question').style.animation = 'pulse 1s infinite';
        }, 1000);
    } else {
        feedback.textContent = "YanlÄ±ÅŸ!";
        feedback.style.color = "red";
        feedback.style.fontSize = "24px";
        feedback.style.fontWeight = "bold";
        
        // YanlÄ±ÅŸ cevap sesi Ã§al
        playYanlisCevapSesi();
        
        setTimeout(() => showResult(false, playerScore), 2000);
    }
}


function resetTime() {
    clearInterval(countdown);
    timeLeft = 30;
    isExtended = false;
    document.getElementById('ask-friend').style.display = 'block';
    document.getElementById('ask-friend').disabled = false;
    startCountdown();
}

function startCountdown() {
    countdown = setInterval(() => {
        if (timeLeft > 0) {
            timeLeft--;
            updateCountdown();
        } else {
            clearInterval(countdown);
            showResult(false, playerScore);
        }
    }, 1000);
}

function updateCountdown() {
    const countdownText = document.getElementById('countdown-text');
    const countdownCircle = document.getElementById('countdown-circle').querySelector('circle');
    countdownText.textContent = timeLeft > 0 ? timeLeft : '';
    
    // Renk deÄŸiÅŸimi: zamanÄ± kÄ±rmÄ±zÄ±ya Ã§evir
    if (timeLeft <= 10) {
        countdownCircle.style.stroke = '#FF4444';
        countdownText.style.fill = '#FF4444';
        countdownText.style.fontWeight = 'bold';
    } else if (timeLeft <= 20) {
        countdownCircle.style.stroke = '#FFA500';
        countdownText.style.fill = '#FFA500';
    } else {
        countdownCircle.style.stroke = '#4CAF50';
        countdownText.style.fill = '#333';
    }
    
    const totalDuration = isExtended ? 60 : 30;
    const circumference = 2 * Math.PI * 45;
    const offset = circumference - (timeLeft / totalDuration) * circumference;
    countdownCircle.style.strokeDashoffset = offset;
    
    // Son 5 saniyede titreÅŸim efekti
    if (timeLeft <= 5 && timeLeft > 0) {
        document.getElementById('countdown-container').style.animation = 'shake 0.5s infinite';
    } else {
        document.getElementById('countdown-container').style.animation = 'none';
    }
}

function extendTime() {
    if (!isExtended) {
        timeLeft += 30;
        isExtended = true;
        document.getElementById('ask-friend').disabled = true;
        document.getElementById('ask-friend').style.display = 'none';
        
        // Joker kullanÄ±m efekti
        const jokerEffect = document.createElement('div');
        jokerEffect.innerHTML = 'ðŸŽ¯ Joker kullanÄ±ldÄ±! +30 saniye';
        jokerEffect.style.position = 'fixed';
        jokerEffect.style.top = '20px';
        jokerEffect.style.left = '50%';
        jokerEffect.style.transform = 'translateX(-50%)';
        jokerEffect.style.background = '#FFD700';
        jokerEffect.style.padding = '10px 20px';
        jokerEffect.style.borderRadius = '25px';
        jokerEffect.style.fontWeight = 'bold';
        jokerEffect.style.zIndex = '1000';
        jokerEffect.style.animation = 'slideDown 3s ease-out';
        
        document.body.appendChild(jokerEffect);
        
        setTimeout(() => {
            document.body.removeChild(jokerEffect);
        }, 3000);
        
        updateCountdown();
    }
}

// ArkadaÅŸÄ±na sor butonuna event listener ekle
document.getElementById('ask-friend').addEventListener('click', extendTime);

// Oyun bittiÄŸinde veya bir skor kaydedildiÄŸinde skorlarÄ± gÃ¼ncelleyen fonksiyon
function loadAndDisplayScores() {
    const highScoresList = document.getElementById('high-score-list');
    // localStorage'dan skorlarÄ± Ã§ek, eÄŸer yoksa boÅŸ bir dizi ata
    const scores = JSON.parse(localStorage.getItem('highScores')) || [];

    // Skor listesini temizle
    highScoresList.innerHTML = '';

    // Her bir skor iÃ§in bir <li> elementi oluÅŸtur ve bu elemente skor bilgisini ekle
    scores.forEach(score => {
        const scoreElement = document.createElement('li');
        // Burada `score.name` ve `score.score` kullanarak metni dÃ¼zgÃ¼n bir ÅŸekilde oluÅŸturuyoruz
        scoreElement.textContent = `${score.name}: ${score.score}`;
        highScoresList.appendChild(scoreElement);
    });
}


// Oyun bittiÄŸinde veya bir skor kaydedildiÄŸinde skorlarÄ± gÃ¼ncelleyen fonksiyon
function saveScore(newScore) {
    // localStorage'dan skorlarÄ± Ã§ek, eÄŸer yoksa boÅŸ bir dizi ata
    const scores = JSON.parse(localStorage.getItem('highScores')) || [];

    // Oyuncunun adÄ±nÄ± kontrol et ve skoru gÃ¼ncelle veya ekle
    const existingIndex = scores.findIndex(score => score.name === newScore.name);
    if (existingIndex !== -1) {
        // EÄŸer mevcut skor yeni skordan dÃ¼ÅŸÃ¼kse, gÃ¼ncelle
        if (scores[existingIndex].score < newScore.score) {
            scores[existingIndex].score = newScore.score;
        }
    } else {
        // Yeni skoru listeye ekle
        scores.push(newScore);
    }

    // SkorlarÄ± bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe doÄŸru sÄ±rala
    scores.sort((a, b) => b.score - a.score);

    // EÄŸer skor listesi 10'dan fazla elemana sahipse, en dÃ¼ÅŸÃ¼k skoru (son elemanÄ±) sil
    if (scores.length > 10) {
        scores.pop(); // En dÃ¼ÅŸÃ¼k skoru (son elemanÄ±) sil
    }

    // GÃ¼ncellenmiÅŸ skor listesini localStorage'a kaydet
    localStorage.setItem('highScores', JSON.stringify(scores));

    // SkorlarÄ± yeniden yÃ¼kle ve gÃ¶ster
    loadAndDisplayScores();
}




// Sayfa yÃ¼klendiÄŸinde skorlarÄ± yÃ¼kle ve gÃ¶ster
document.addEventListener('DOMContentLoaded', loadAndDisplayScores);

// "Ana Sayfaya DÃ¶n" butonunun iÅŸlevselliÄŸi
document.getElementById('go-home').addEventListener('click', function() {
    // Burada sayfayÄ± yeniden yÃ¼kleyebilir veya baÅŸka bir yÃ¶ntemle ana menÃ¼ye dÃ¶nebilirsiniz
    window.location.href = 'index.html'; // Ã–rnek olarak sayfayÄ± yeniden yÃ¼klemek kullanÄ±lmÄ±ÅŸtÄ±r
    loadAndDisplayScores(); // Sayfa yeniden yÃ¼klendiÄŸinde skorlarÄ± tekrar yÃ¼kle ve gÃ¶ster
});
document.getElementById('save-score').addEventListener('click', function() {
    const playerName = document.getElementById('player-name').value.trim();
    const score = parseInt(document.getElementById('final-score').textContent);

    if (!playerName) {
        alert("LÃ¼tfen adÄ±nÄ±zÄ± girin.");
        return;
    }

    // Mevcut skorlarÄ± yÃ¼kle
    const scores = JSON.parse(localStorage.getItem('highScores')) || [];

    // AynÄ± isimle olan skoru bul
    const existingScoreIndex = scores.findIndex(s => s.name === playerName);

    if (existingScoreIndex >= 0) {
        // EÄŸer yeni skor daha yÃ¼ksekse gÃ¼ncelle
        if (scores[existingScoreIndex].score < score) {
            scores[existingScoreIndex].score = score;
        }
    } else {
        // Yeni skoru ekle
        scores.push({ name: playerName, score: score });
    }

    // SkorlarÄ± bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe sÄ±rala
    scores.sort((a, b) => b.score - a.score);

    // En iyi 10 skoru sakla
    const topScores = scores.slice(0, 10);

    // SkorlarÄ± localStorage'a kaydet
    localStorage.setItem('highScores', JSON.stringify(topScores));

    // SkorlarÄ± yeniden yÃ¼kle ve gÃ¶ster
    loadAndDisplayScores();

    // Ä°sim ve skor kaydedildikten sonra input alanÄ±nÄ± temizle
    document.getElementById('player-name').value = '';
});

function showSaveScoreOption(playerScore) {
    const scores = JSON.parse(localStorage.getItem('highScores')) || [];
    let isScoreHighEnough = false;

    if (scores.length < 10) {
        isScoreHighEnough = true;
    } else {
        // En dÃ¼ÅŸÃ¼k skoru bulmak iÃ§in skorlarÄ± kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe sÄ±ralayÄ±n
        scores.sort((a, b) => a.score - b.score);
        const lowestHighScore = scores[0].score; // En dÃ¼ÅŸÃ¼k skor, sÄ±ralÄ± listede ilk sÄ±rada olacaktÄ±r.
        if (playerScore > lowestHighScore) {
            isScoreHighEnough = true;
        }
    }

    const saveScoreMessage = document.getElementById('save-score-message');
    const saveScoreContainer = document.getElementById('save-score-container');

    if (isScoreHighEnough) {
        saveScoreMessage.textContent = "Tebrikler! YÃ¼ksek skorlar listesine girebilirsiniz.";
        saveScoreContainer.style.display = 'block';
    } else {
        saveScoreMessage.textContent = "Maalesef yÃ¼ksek skorlar listesine giremediniz.";
        saveScoreContainer.style.display = 'none';
    }
}


function hideElement(element) {
    element.classList.remove('visible');
    element.classList.add('hidden');
}

// Elementi gÃ¶sterme fonksiyonu
function showElement(element) {
    element.classList.remove('hidden');
    element.classList.add('visible');
}
window.onload = function() {
    var scoreBoard = document.getElementById('score-board');
    var scoreBoardHeight = scoreBoard.scrollHeight + 'px';
    scoreBoard.style.height = scoreBoardHeight;
}

function startGame() {
    currentQuestionIndex = -1;
    playerScore = 0;
    document.getElementById('player-score').textContent = '0';
    document.getElementById('result-container').style.display = 'none';
    document.getElementById('info-column').style.display = 'block';
    document.getElementById('score-board').style.display = 'none'; // Skor tablosunu gizle
    selectedQuestions = getRandomQuestions(Questions, 10); // Rastgele 10 soru seÃ§
    showNextQuestion();
    hideElement(document.getElementById('score-board'));
    resetTime();
}

function showNextQuestion() {
    if (currentQuestionIndex >= selectedQuestions.length - 1) {
        showResult(true, playerScore);
        return;
    }
    currentQuestionIndex++;
    const question = selectedQuestions[currentQuestionIndex];
    const mainMenu = document.getElementById('mainMenu');
    
    // Soru baÅŸlangÄ±Ã§ sesini Ã§al
    playSoruBaslangicSesi();
    
    // Soru numarasÄ±nÄ± da gÃ¶ster
    mainMenu.innerHTML = `<h2>Soru ${currentQuestionIndex + 1}/10</h2><h3>${question.soru}</h3>`;
    
    question.cevaplar.forEach((answer, i) => {
        const button = document.createElement('button');
        button.textContent = String.fromCharCode(65 + i) + ") " + answer;
        button.className = 'answerButton';
        button.onclick = () => checkAnswer(i, question.doÄŸru);
        mainMenu.appendChild(button);
    });
    const feedback = document.createElement('div');
    feedback.id = 'feedback';
    mainMenu.appendChild(feedback);
    const nextQuestionButton = document.createElement('button');
    nextQuestionButton.id = 'next-question';
    nextQuestionButton.className = 'menuButton';
    nextQuestionButton.textContent = 'Sonraki Soru';
    nextQuestionButton.style.display = 'none';
    nextQuestionButton.onclick = () => showNextQuestion();
    mainMenu.appendChild(nextQuestionButton);
    resetTime();
}
function getRandomQuestions(sourceArray, neededElements) {
    const shuffled = [...sourceArray].sort(() => 0.5 - Math.random()); // Diziyi karÄ±ÅŸtÄ±r
    return shuffled.slice(0, neededElements); // Ä°lk 'neededElements' sayÄ±da elemanÄ± al
}
// 10. soru ÅŸÄ±klarÄ±nÄ±n seÃ§ilmesini dinle
var options10 = document.querySelectorAll('#question-10 input[type="radio"]');
options10.forEach(function(option) {
    option.addEventListener('change', function() {
        if (this.checked) {
            // DoÄŸru seÃ§enek iÅŸaretlendiÄŸinde
            if (this.value === "true") {
                // Sonraki soru butonuna otomatik tÄ±kla
                document.querySelector('#next-question-btn').click();
            }
        }
    });
});
// Skor kaydetme ve isim yazma iÅŸlevlerini sola taÅŸÄ±
function saveScore(newScore) {
    // Fonksiyon iÃ§eriÄŸi burada...
}

function showSaveScoreOption(score) {
    // Fonksiyon iÃ§eriÄŸi burada...
}
document.addEventListener('DOMContentLoaded', function() {
    const muteButton = document.getElementById('mute-button');
    if (muteButton) {
        muteButton.addEventListener('click', toggleSound);
    }
    
    const startGameButton = document.getElementById('start-game');
    if (startGameButton) {
        startGameButton.addEventListener('click', startGame);
    }
    
    const restartGameButton = document.getElementById('restart-game');
    if (restartGameButton) {
        restartGameButton.addEventListener('click', startGame);
    }
    
    // SkorlarÄ± yÃ¼kle
    loadAndDisplayScores();
});
// Ses dosyalarÄ±nÄ± tanÄ±mla
var dogruCevapSesi = new Audio('sounds/dogruCevapSesi.mp3');
var girisSesi = new Audio('sounds/girisSesi.mp3');
var sonSorudakiDogruCevapSesi = new Audio('sounds/sonSorudakiDogruCevapSesi.mp3');
var soruBaslangicSesi = new Audio('sounds/soruBaslangicSesi.mp3');
var yanlisCevapSesi = new Audio('sounds/yanlisCevapSesi.mp3');

// Ses dosyalarÄ±nÄ± oynatmak iÃ§in fonksiyonlar
function playDogruCevapSesi() {
    if (isSoundEnabled) {
        dogruCevapSesi.currentTime = 0;
        dogruCevapSesi.play().catch(e => console.log('Ses Ã§alÄ±namadÄ±:', e));
    }
}

function playGirisSesi() {
    if (isSoundEnabled) {
        girisSesi.currentTime = 0;
        girisSesi.play().catch(e => console.log('Ses Ã§alÄ±namadÄ±:', e));
    }
}

function playSonSorudakiDogruCevapSesi() {
    if (isSoundEnabled) {
        sonSorudakiDogruCevapSesi.currentTime = 0;
        sonSorudakiDogruCevapSesi.play().catch(e => console.log('Ses Ã§alÄ±namadÄ±:', e));
    }
}

function playSoruBaslangicSesi() {
    if (isSoundEnabled) {
        soruBaslangicSesi.currentTime = 0;
        soruBaslangicSesi.play().catch(e => console.log('Ses Ã§alÄ±namadÄ±:', e));
    }
}

function playYanlisCevapSesi() {
    if (isSoundEnabled) {
        yanlisCevapSesi.currentTime = 0;
        yanlisCevapSesi.play().catch(e => console.log('Ses Ã§alÄ±namadÄ±:', e));
    }
}

// Oyun sonucu gÃ¶sterimi iyileÅŸtirmeleri
function showResult(isWin, playerScore) {
    const resultContainer = document.getElementById('result-container');
    const resultMessage = document.getElementById('result-message');
    const finalScore = document.getElementById('final-score');
    
    // Animasyon efektleri
    if (isWin) {
        resultContainer.classList.add('victory');
        resultMessage.textContent = "ðŸŽ‰ Tebrikler, KazandÄ±nÄ±z!";
        resultMessage.style.color = "#27AE60";
    } else {
        resultContainer.classList.add('game-over');
        resultMessage.textContent = "ðŸ˜ž ÃœzgÃ¼nÃ¼z, Kaybettiniz!";
        resultMessage.style.color = "#E74C3C";
    }
    
    finalScore.textContent = playerScore;
    
    // Skor tablosunu gÃ¶ster
    showElement(document.getElementById('score-board'));
    
    // SonuÃ§ ekranÄ±nÄ± gÃ¶ster
    setTimeout(() => {
        resultContainer.style.display = 'block';
        showSaveScoreOption(playerScore);
    }, 1000);
    
    // Event listener'larÄ± ekle
    const restartButton = document.getElementById('restart-game');
    const goHomeButton = document.getElementById('go-home');
    
    restartButton.onclick = function() {
        resultContainer.classList.remove('victory', 'game-over');
        startGame();
    };
    
    goHomeButton.onclick = function() {
        resultContainer.classList.remove('victory', 'game-over');
        window.location.reload();
    };
}
